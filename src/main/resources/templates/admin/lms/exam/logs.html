<!DOCTYPE HTML>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head th:include="include :: head('答题统计列表')"></head>
<body>
<div class="layui-card">
    <div class="layui-card-body">
        <div class="yadmin-body animated fadeIn">
            <div class="layui-form yadmin-search-area input">
                <form class="layui-form-item">
                    <div class="layui-inline">
                        <label for="name" class="layui-form-label">名称</label>
                        <div class="layui-input-inline">
                            <input type="text" name="name" id="name" placeholder="名称" class="layui-input"/>
                        </div>
                        <button lay-submit="" lay-filter="search" class="layui-btn layui-btn-sm layui-btn-primary table-action">
                            <i class="layui-icon layui-icon-search"></i>
                        </button>
                        <button type="reset" lay-filter="search" class="layui-btn layui-btn-sm layui-btn-primary table-action">
                            <i class="layui-icon layui-icon-refresh"></i>
                        </button>
                    </div>
                </form>
            </div>
            <table class="layui-hide" id="table-list"></table>
        </div>
    </div>
</div>
<script>
    layui.use(['jquery', 'table', 'form', 'layer'], function ($, table, form, layer) {
        table.render({
            elem: '#table-list',
            url: '/admin/lms/exam/log/list',
            method: 'post',
            dataType: 'JSON',
            smartReloadModel: true,
            page: true,
            toolbar: '#toolbar',
            cols: [ [
                {type: 'checkbox'},
                {field: 'examRoomName', title: '答题室名', minWidth: 80},
                {field: 'userName', title: '用户名', minWidth: 80},
                {field: 'score', title: '得分', minWidth: 80},
                {field: 'timeOn', title: '开始时间', minWidth: 80},
                {field: 'timeOff', title: '结束时间', minWidth: 80},
                {field: 'totalQuestions', title: '总题数', minWidth: 80},
                {field: 'correctQuestions', title: '正确题数', minWidth: 80},
                {field: 'wrongQuestions', title: '错误题数', minWidth: 80},
            ] ]
        });
        form.on('submit(search)', function (form) {
            table.reload('table-list', {
                where: form.field
            });
            return false;
        });
    });
</script>
</body>
</html>